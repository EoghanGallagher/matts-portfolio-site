if (self.CavalryLogger) { CavalryLogger.start_js(["AH3kx"]); }

__d("UFIAddCommentController",["CommunityConversationsUfiTreatment","Parent","PrivateCommentsConfig","React","ReactDOM","UFIAddComment.react","UFIAddCommentActionType","UFIAsyncWrapper","UFICallbackStore","UFICommentEditIDStore","UFIDispatcher","UFIDispatcherContext.react","UFIFeedbackContext.react","UFINewCommentNotifier","UFISharedDispatcher","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();g.factory=function(a,b){b.rootid=a.id;return new g(a,Object.freeze(b))};function g(a,c){__p&&__p();h.call(this),this.$1=a,this.$2=c,this.$3=new(b("UFIDispatcher"))(),this.$4={UFICallbackStore:new(b("UFICallbackStore"))(this.$3)},this.$4.UFICallbackStore.on(b("UFIAddCommentActionType").SUBMIT_NEW,function(c){return b("UFINewCommentNotifier").onNewComment(b("Parent").byTag(a,"form"),this.$2,c.comment,c.target,c.replyCommentID,c.timestamp)}.bind(this)),this.$5=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid),b("UFICommentEditIDStore").addListener(function(){var a=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid);a!=this.$5&&(this.$5=a,this.render())}.bind(this)),b("UFISharedDispatcher").register(function(a){__p&&__p();switch(a.type){case b("UFIStoryActionType").SHOW_FACECAST_REPLIES:if(a.instanceID!==this.$2.instanceid)return;this.$6=a.commentID;this.render();break;case b("UFIStoryActionType").HIDE_FACECAST_REPLIES:if(a.instanceID!==this.$2.instanceid)return;this.$6=null;this.render();break}}.bind(this)),this.render()}g.prototype.render=function(){var a=b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this.$3,stores:this.$4},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:this.$2,render:this.renderAddComment}));b("ReactDOM").render(b("React").createElement(b("UFIAsyncWrapper"),null,a),this.$1)};g.prototype.disable=function(){this.$4.UFICallbackStore.remove()};var h=function(){this.renderAddComment=function(a,c){return this.$5!==null||!c||!c.cancomment||!c.actorforpost?null:b("React").createElement(b("UFIAddComment.react"),{viewerActorID:c.actorforpost,targetID:c.ownerid,targetName:c.actorname,groupID:c.grouporeventid,initialData:null,ref:null,withoutSeparator:!1,editingComment:{},isEditing:!1,mentionsDataSource:c.mentionsdatasource,showSendOnEnterTip:c.showsendonentertip,peopleOutsideCommunityInCommentNotice:c.peopleoutsidecommunityincommentnotice,allowAudienceSelector:!!a.friendConversationsParams,allowPhotoAttachments:c.allowphotoattachments&&!a.islivestreaming,allowVideoAttachments:c.allowvideoattachments&&!a.islivestreaming,allowFileAttachments:c.allowfileattachments&&!a.islivestreaming,allowStickerAttachments:c.allowstickerattachments&&(!a.islivestreaming||c.allowgaminglivestreamstickerattachments||c.allowstickerattachmentsforlivestreams),allowCustomStickerAttachments:c.allowgaminglivestreamcustomstickers,allowGifAttachments:c.allowgifattachments&&(!a.islivestreaming||c.allowgaminglivestreamgifattachments),allowNativeTipJar:Boolean(c.isnativetipjarenabled),allowTogglePrivateComments:(b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&c.canviewercommentinprivate,privateCommentTarget:c.actorname,showMentionsButton:Boolean(a.communityConversationsParams&&a.communityConversationsParams.treatment===b("CommunityConversationsUfiTreatment").MENTION_IN_COMPOSER),contextArgs:a,feedback:c,subtitle:c.subtitle,isQAndA:c.isqanda,keepFocus:a.islivestreaming,commentsTargetID:c.commentstargetfbid,replyCommentID:this.$6})}.bind(this)};e.exports=g}),null);
__d("XUITypeaheadWrapper.react",["React","SearchableEntry","XUITypeahead.react"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){"use strict";g.constructor.call(this,a);h.call(this);a=a.initialEntry||null;var b=a?a.getTitle():"";this.state={queryString:b,selectedEntry:a}}a.prototype.render=function(){"use strict";return b("React").createElement("span",null,this.$1(),b("React").createElement(b("XUITypeahead.react"),{tallInput:this.props.tallInput,viewStyle:this.props.viewStyle,queryString:this.state.queryString,selectedEntry:this.state.selectedEntry,className:this.props.className,placeholder:this.props.placeholder,searchSource:this.props.searchSource,selectOnBlur:this.props.selectOnBlur,showEntriesOnFocus:this.props.showEntriesOnFocus,focusedOnInit:this.props.focusedOnInit,onSelectAttempt:this.$2,onBlur:this.$5,onClear:this.$4,onChange:this.$3,autoHighlight:!0,clearable:this.props.clearable,showPhoto:this.props.showPhoto,highlightOnSelect:this.props.highlightOnSelect,isRightToLeft:this.props.isRightToLeft,maxEntries:this.props.maxEntries,excludedEntries:this.props.excludedEntries,inputID:this.props.inputID}))};a.propTypes={name:c.string.isRequired,className:c.string,tallInput:c.bool.isRequired,placeholder:c.string,initialEntry:c.instanceOf(b("SearchableEntry")),viewStyle:c.oneOf(["textonly","rich"]).isRequired,searchSource:c.object.isRequired,selectOnBlur:c.bool,clearIfNoSelection:c.bool,showEntriesOnFocus:c.bool,focusedOnInit:c.bool,clearable:c.bool,showPhoto:c.bool,highlightOnSelect:c.bool,isRightToLeft:c.bool,maxEntries:c.number,excludedEntries:c.object,inputID:c.string};var h=function(){this.$1=function(){var a=this.state.selectedEntry;a=a?a.getUniqueID():"";return b("React").createElement("input",{type:"hidden",name:this.props.name,value:a})}.bind(this),this.$2=function(a){this.setState({queryString:a.getTitle(),selectedEntry:a})}.bind(this),this.$3=function(event){this.setState({queryString:event.target.value,selectedEntry:null})}.bind(this),this.$4=function(event){this.setState({queryString:"",selectedEntry:null})}.bind(this),this.$5=function(){this.props.clearIfNoSelection&&this.forceUpdate(function(){this.state.selectedEntry||this.setState({queryString:""})}.bind(this))}.bind(this)};e.exports=a}),null);
__d("PlatformDialogOauthWrite",["Arbiter","SelectorDeprecated","PrivacyConst"],(function(a,b,c,d,e,f){a={subscribeAudienceText:function(a,c,d){b("Arbiter").subscribe("platform/privacy/app-audience",function(b,e){a.show(c[e]||d)}),b("Arbiter").subscribe("AudienceSelector/changed",function(e,f){e=b("SelectorDeprecated").getOptionValue(f.option);e!=b("PrivacyConst").BaseValue.CUSTOM&&a.show(c[e]||d)}),b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(e,f){a.show(c[b("SelectorDeprecated").getOptionValue(f.option)]||d)})}};e.exports=a}),null);
__d("PlatformDialogStack",["CSS","ge"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){this._root=a,this._showing=b}Object.assign(a.prototype,{getRoot:function(){return this._root},getShowing:function(){return this._showing},show:function(a){Array.from(this._root.childNodes).forEach(b("CSS").hide,b("CSS"));b("CSS").show(b("ge")(a,this._root));this._showing=a;return this}});e.exports=a}),null);
__d("legacy:AudienceSelector",["AudienceSelector"],(function(a,b,c,d,e,f){b("AudienceSelector")}),3);
__d("FriendListPrivacyOptions",["Arbiter","AsyncDialog","AsyncRequest","DOMQuery","PageTransitions","Parent","SelectorDeprecated","$","ge","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=!1,i=null,j={},k=function(a){__p&&__p();Object.keys(j).length||b("PageTransitions").registerHandler(function(){j={},g=!1,h=!1});var c=a.getAttribute("data-name");j[c]=a;b("SelectorDeprecated").listen(a,"select",function(a){a=a.option;var c=b("DOMQuery").find(a,"a.itemAnchor"),d=c.getAttribute("data-flid");if(!d)return;c=c.getAttribute("data-dynamic");c&&g?l.showSmartListNux(a,d):!c&&h&&l.showDumbListNux([d])})},l={listen:function(a,c,d){a=b("ge")(a);if(!a)return;a=b("Parent").byClass(a,"audienceSelector");a&&(k(a),g=c,h=d)},showSmartListNux:function(a,c){a=b("$")(a);new(b("AsyncRequest"))("/ajax/friends/lists/smart_list_publish_nux.php").setData({option_id:a.id,flid:c}).send();g=!1},setContextualDialog:function(a,c){c=b("$")(c);var d=b("Parent").byClass(c,"audienceSelector");d&&(function(){a.setContext(d);a.show();var c=b("Arbiter").subscribe("composer/publish",function(){a.hide()});a.subscribe("hide",function(){c.unsubscribe()})})()},showDumbListNux:function(a){b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/friends/lists/dumb_list_publish_nux.php").setData({flids:a})),h=!1},showBothListsNux:function(a,c){i=b("$")(a),l.showDumbListNux(c)},setDialogX:function(a){if(!i)return;a.subscribe("hide",function(){l.showSmartListNux(b("nullthrows")(i)),i=null})}};e.exports=l}),null);
__d("TrafficNub",["Event"],(function(a,b,c,d,e,f){a={bindDialog:function(a,c){b("Event").listen(a,"click",c.show.bind(c))}};e.exports=a}),null);
__d("TypeaheadHintText",["emptyFunction"],(function(a,b,c,d,e,f){function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";this._typeahead.getCore().resetOnKeyup=!1};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("legacy:HintTextTypeaheadBehavior",["TypeaheadHintText"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.hintText=function(a){a.enableBehavior(b("TypeaheadHintText"))}}),3);
__d("LayerHideOnSuccess",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("success",this._layer.hide.bind(this._layer))};a.prototype.disable=function(){"use strict";this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)};Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("VideoChainingToken",["Base64"],(function(a,b,c,d,e,f){__p&&__p();function g(a){"use strict";this.$1=a}g.encode=function(a){"use strict";return new g(b("Base64").encode(JSON.stringify(a)))};g.prototype.decode=function(){"use strict";return JSON.parse(b("Base64").decode(this.$1))};e.exports=g}),null);
__d("TahoeShareButton.react",["React","UFIShareNowMenuBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.endpoint;a=a.endpointData;return b("React").createElement(b("UFIShareNowMenuBootloader.react"),{endpoint:c,endpointData:a,openOnInitOverride:!1})};function a(){g.apply(this,arguments)}e.exports=a}),null);