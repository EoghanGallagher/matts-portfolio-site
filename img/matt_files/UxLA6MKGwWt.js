if (self.CavalryLogger) { CavalryLogger.start_js(["dT0UY"]); }

__d("UFIThreadedFacecastCommentContainer.react",["FluxContainer","React","SubscriptionsHandler","UFICentralUpdates","UFIComment.react","UFIComments","UFIFeedbackTargets","UFILocallyComposedCommentStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("React").PureComponent);g&&g.prototype;h.getStores=function(){return[b("UFILocallyComposedCommentStore")]};h.calculateState=function(a,c){a=b("UFIComments").getComment(c.commentID);var d=b("UFIFeedbackTargets").getFeedbackTargetIfExists(c.contextArgs.ftentidentifier);c=b("UFILocallyComposedCommentStore").getStateForInstance(c.contextArgs.instanceid);return{comment:a,postFeedback:d,localCommentIDs:c}};h.prototype.componentDidMount=function(){this.setupSubscriptions()};h.prototype.componentDidUpdate=function(){this.setupSubscriptions()};h.prototype.componentWillUnmount=function(){this.closeSubscriptions()};h.prototype.setupSubscriptions=function(){this.closeSubscriptions(),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("comments-updated",function(a){return this.setState(function(a,b){return h.calculateState(a,b)})}.bind(this)),b("UFICentralUpdates").subscribe("feedback-updated",function(a){return this.setState(function(a,b){return h.calculateState(a,b)})}.bind(this)))};h.prototype.closeSubscriptions=function(){var a=this.$1;if(a==null)return;a.release();this.$1=null};h.prototype.render=function(){var a=this.state.comment,c=this.state.postFeedback;if(a==null||c==null)return b("React").createElement("div",null);var d=c.actorforpost===a.author,e=a.__typename==="local",f=e||this.state.localCommentIDs[a.id],g=c.showremovemenu||c.viewerid===a.author,h=c.canremoveall&&c.isownerpage&&!d&&!c.grouporeventid,i=!0;return b("React").createElement(b("UFIComment.react"),{key:b("UFIComments").getRenderKey(a.id),comment:a,authorProfiles:this.props.authorProfiles,viewerIsAuthor:d,feedback:c,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:h,isLocallyComposed:f,isOptimisticallyRendered:e,parentCanComment:i,showPermalink:!1,showRemoveReportMenu:g,showTranslation:!!a.translationdata})};function h(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(h,{withProps:!0})}),null);
__d("UFIThreadedFacecastComments.react",["React","UFIThreadedFacecastCommentContainer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("UFIThreadedFacecastCommentContainer.react"),{commentID:this.props.currentThreadedFacecastCommentID,contextArgs:this.props.contextArgs,authorProfiles:this.props.authorProfiles}),this.props.currentReplyIDs.map(function(a){return b("React").createElement(b("UFIThreadedFacecastCommentContainer.react"),{key:a,commentID:a,contextArgs:this.props.contextArgs,authorProfiles:this.props.authorProfiles})}.bind(this)))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FacecastCommentReplyCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1636045986443846",queryID:"1528155573963813"})}),null);
__d("FacecastCommentReplyCreate",["BaseGraphQLSubscription","FacecastCommentReplyCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/facecast_comment_reply_create_subscribe/feedback_id_"+a},_getQueryID:function(){return b("FacecastCommentReplyCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}},_getSubscriptionCallName:function(){return"facecast_comment_reply_create_subscribe"}});e.exports=a}),null);
__d("UFIThreadedFacecastCommentsControls.react",["ix","cx","fbt","Image.react","React","UFISharedDispatcher","UFIStoryAction","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a=this.props.newCommentCount>0?b("React").createElement(b("XUIText.react"),{className:"_zsl",size:"body3",color:"white"},this.props.newCommentCount):null;return b("React").createElement("div",{className:"_zsm"},b("React").createElement(b("Image.react"),{className:"_zuf",src:g("499009"),onClick:function(){return b("UFISharedDispatcher").dispatch(b("UFIStoryAction").hideFacecastReplies(this.props.contextArgs))}.bind(this)}),a,b("React").createElement(b("XUIText.react"),{className:"_zug",size:"body1",color:"placeholder",weight:"bold"},this.props.commentAuthorName!=null?i._("Replying to {name}",[i._param("name",this.props.commentAuthorName)]):i._("Replying to comment")))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("UFIThreadedFacecastCommentsControlsContainer.react",["FluxContainer","React","SubscriptionsHandler","UFICentralUpdates","UFIComments","UFIThreadedFacecastCommentsControls.react","UFIThreadedFacecastCommentsStore","UFIToplevelStreamedCommentList","idx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("React").PureComponent);g&&g.prototype;h.getStores=function(){return[b("UFIThreadedFacecastCommentsStore")]};h.calculateState=function(a,c){__p&&__p();var d=b("UFIThreadedFacecastCommentsStore").getCommentID(c.contextArgs.instanceid);d=d!=null?b("UFIComments").getComment(d):null;d=d!=null?(d=c.authorProfiles[d.author])!=null?d.firstName:d:null;c=b("UFIToplevelStreamedCommentList").getExistingCommentList(c.contextArgs.ftentidentifier,c.contextArgs.islivestreaming?b("UFIToplevelStreamedCommentList").GLOBAL_ID:c.contextArgs.instanceid);c=c?c.getAddedCommentCount():0;var e;void 0;var f;void 0;a==null?(e=c,f=0):(e=a.initialCommentCount,f=c-e>=0?c-e:0);return{commentAuthorName:d,initialCommentCount:e,newCommentCount:f}};h.prototype.componentDidMount=function(){this.setupSubscriptions()};h.prototype.componentDidUpdate=function(){this.setupSubscriptions()};h.prototype.componentWillUnmount=function(){this.closeSubscriptions()};h.prototype.setupSubscriptions=function(){this.closeSubscriptions(),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("comments-updated",function(a){return this.setState(function(a,b){return h.calculateState(a,b)})}.bind(this)))};h.prototype.closeSubscriptions=function(){var a=this.$1;if(a==null)return;a.release();this.$1=null};h.prototype.render=function(){return b("React").createElement(b("UFIThreadedFacecastCommentsControls.react"),{commentAuthorName:this.state.commentAuthorName,newCommentCount:this.state.newCommentCount,contextArgs:this.props.contextArgs})};function h(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(h,{withProps:!0})}),null);
__d("UFIThreadedFacecastCommentsContainer.react",["FacecastCommentReplyCreate","FluxContainer","React","UFIComments","UFISharedDispatcher","UFIStoryAction","UFISubscriptionUpdates","UFIThreadedFacecastComments.react","UFIThreadedFacecastCommentsControlsContainer.react","UFIThreadedFacecastCommentsStore","idx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("UFIThreadedFacecastCommentsStore")]};a.calculateState=function(a,c){a=b("UFIThreadedFacecastCommentsStore").getCommentID(c.contextArgs.instanceid);c=b("UFIThreadedFacecastCommentsStore").getReplyCommentIDs(c.contextArgs.instanceid);return{currentThreadedFacecastCommentID:a,currentReplyIDs:c}};a.prototype.componentDidMount=function(){this.subscribeToRepliesIfNeeded()};a.prototype.componentDidUpdate=function(){this.unsubscribeFromRepliesIfNeeded(),this.subscribeToRepliesIfNeeded()};a.prototype.componentWillUnmount=function(){this.unsubscribeFromRepliesIfNeeded()};a.prototype.subscribeToRepliesIfNeeded=function(){__p&&__p();var a=this.state.currentThreadedFacecastCommentID;if(a==null)return;a=b("UFIComments").getComment(a);if(!a)return;var c=Date.now();this.$1=b("FacecastCommentReplyCreate").subscribe(a.fbid,function(a){b("UFISubscriptionUpdates").handleLiveStreamingReply(this.props.contextArgs.ftentidentifier,a.facecast_comment_reply_create_subscribe,Date.now()-c);b("UFISharedDispatcher").dispatch(b("UFIStoryAction").addFacecastReply(this.props.contextArgs,b("nullthrows")((a=a)!=null?(a=a.facecast_comment_reply_create_subscribe)!=null?(a=a.comment)!=null?a.legacy_token:a:a:a)))}.bind(this))};a.prototype.unsubscribeFromRepliesIfNeeded=function(){var a=this.$1;a&&a.unsubscribe();this.$1=null};a.prototype.render=function(){var a=this.state.currentThreadedFacecastCommentID;return a==null?b("React").createElement("div",null):b("React").createElement("div",null,b("React").createElement(b("UFIThreadedFacecastCommentsControlsContainer.react"),{contextArgs:this.props.contextArgs,authorProfiles:this.props.authorProfiles}),b("React").createElement(b("UFIThreadedFacecastComments.react"),{authorProfiles:this.props.authorProfiles,contextArgs:this.props.contextArgs,currentThreadedFacecastCommentID:a,currentReplyIDs:this.state.currentReplyIDs}))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoWithVODBroadcast",[],(function(a,b,c,d,e,f){function a(a){"use strict";a.registerOption("VideoWithVODBroadcast","isLiveVOD",function(){return!0})}e.exports=a}),null);